// TODO make an async trait
pub struct StateMachine<C> {
    async fn apply(&mut self, command: C) {
        todo!()
    }
}